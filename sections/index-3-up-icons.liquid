{% assign title = section.settings.title %}
{% assign text = section.settings.text %}

<div class="three-up-icons-text" data-aos="fade-up">
  <div class="container-fluid-max">
    <div class="row justify-content-center">
      <div class="col-md-10 col-lg-8">
        <!-- <a href="/products/zen-wtr-9-5ph-12-1l" class="btn btn-primary shop_now_button" style="margin-bottom: 25px;">Shop Now</a> ASKED TO REMOVE BY CLIENT -->
        {% if title != blank %}
          <h3 class="three-up__title">{{ title }}</h3>
        {% endif %}

        {% if text != blank %}
          <div class="three-up__text p1 px-2">{{ text }}</div>
        {% endif %}

        <div class="three-up-icons">
          {% for block in section.blocks %}
            {% assign icon = block.settings.icon %}
            {% assign icon_text = block.settings.icon_text %}
            
            {% if icon != blank and icon_text != blank %}
              <div class="icon-block">
                {%- if block.settings.icon_url != blank -%}
                <a class="d-block" href="{{ block.settings.icon_url }}">
                {%- endif -%}
                <div class="icon__image frame frame--1x1">
                  {% include 'image_tag'
                    image: icon,
                    object_fit: 'contain'  
                  %}
                </div>
                <h6 class="icon__text">{{ icon_text }}</h6>
                {%- if block.settings.icon_url != blank -%}
                </a>
                {%- endif -%}
              </div>
            {% endif %}
          {% endfor %}
        </div>
      </div>
    </div>
  </div>
</div>

{% schema %}
  {
    "name": "3 Up Icons + Text",
    "max_blocks": 4,
    "settings": [
      {
        "type": "header",
        "content": "3 Up Icons + Text"
      },
      {
        "type": "richtext",
        "id": "title",
        "label": "Title",
        "info": "Bold text appears blue."
      },
      {
        "type": "richtext",
        "id": "text",
        "label": "Text"
      }
    ],
    "blocks": [
      {
        "type": "icon_card",
        "name": "Icon + Text",
        "settings": [
          {
            "type": "image_picker",
            "id": "icon",
            "label": "Icon"
          },
          {
            "type": "text",
            "id": "icon_text",
            "label": "Icon Text"
          },
          {
            "type": "url",
            "id": "icon_url",
            "label": "Icon Link (optional)"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "3 Up Icons + Text",
        "category": "Media",
        "settings": {}
      }
    ]
  }
{% endschema %}
